<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼ - 10é¡Œæ¸¬é©—</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        /* åˆ†æ•¸çœ‹æ¿æ¨£å¼ */
        .score-board {
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 20px;
            padding: 20px;
            background-color: #e3f2fd;
            border-radius: 8px;
            border: 2px solid #b6d4fe;
            display: none; /* ä¸€é–‹å§‹éš±è— */
        }
        .question-card {
            background: #fff;
            border: 1px solid #ddd;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .question-card:hover {
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .question-title {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        .options label {
            display: block;
            margin: 8px 0;
            cursor: pointer;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid transparent;
        }
        .options label:hover {
            background-color: #f8f9fa;
        }
        /* çµæœæ¨£å¼ */
        .correct {
            background-color: #d4edda !important;
            border-color: #c3e6cb !important;
            color: #155724;
        }
        .wrong {
            background-color: #f8d7da !important;
            border-color: #f5c6cb !important;
            color: #721c24;
        }
        .btn-submit {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }
        .btn-submit:hover {
            background-color: #0056b3;
        }
        /* Email æŒ‰éˆ•æ¨£å¼ */
        .btn-email {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 25px;
            background-color: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-size: 0.9em;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }
        .btn-email:hover {
            background-color: #218838;
            transform: scale(1.05);
        }
        .explanation {
            margin-top: 10px;
            font-size: 0.9em;
            color: #666;
            display: none;
            padding-top: 10px;
            border-top: 1px dashed #ccc;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ“ ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼ç·´ç¿’ (10é¡Œ)</h1>
    
    <div id="scoreBoard" class="score-board"></div>
    
    <form id="quizForm">
        <div id="quizContainer">
            </div>
        <button type="button" class="btn-submit" onclick="submitQuiz()">é€å‡ºç­”æ¡ˆ & è¨ˆç®—åˆ†æ•¸</button>
    </form>
</div>

<script>
    // é¡Œç›®è³‡æ–™åº«
    const questions = [
        {
            id: 1,
            q: "è§£æ–¹ç¨‹å¼ï¼šxÂ² - 5x + 6 = 0",
            options: ["x = 2, 3", "x = -2, -3", "x = 1, 6", "x = -1, -6"],
            ans: 0 
        },
        {
            id: 2,
            q: "è§£æ–¹ç¨‹å¼ï¼šxÂ² - 49 = 0",
            options: ["x = 7", "x = Â±7", "x = 49", "x = Â±49"],
            ans: 1
        },
        {
            id: 3,
            q: "è§£æ–¹ç¨‹å¼ï¼šx(x + 3) = 0",
            options: ["x = 3", "x = 0, 3", "x = 0, -3", "x = -3"],
            ans: 2
        },
        {
            id: 4,
            q: "è§£æ–¹ç¨‹å¼ï¼šxÂ² + 4x + 4 = 0",
            options: ["x = 2 (é‡æ ¹)", "x = -2 (é‡æ ¹)", "x = Â±2", "ç„¡å¯¦æ•¸è§£"],
            ans: 1
        },
        {
            id: 5,
            q: "è§£æ–¹ç¨‹å¼ï¼š2xÂ² - 4x = 0",
            options: ["x = 2", "x = 4", "x = 0, 4", "x = 0, 2"],
            ans: 3
        },
        {
            id: 6,
            q: "è‹¥ (x-1)(x+5) = 0ï¼Œå‰‡ x çš„è§£ç‚ºä½•ï¼Ÿ",
            options: ["x = 1, -5", "x = -1, 5", "x = 1, 5", "x = -1, -5"],
            ans: 0
        },
        {
            id: 7,
            q: "è§£æ–¹ç¨‹å¼ï¼šxÂ² + x - 12 = 0",
            options: ["x = 3, 4", "x = -3, 4", "x = 3, -4", "x = -3, -4"],
            ans: 2
        },
        {
            id: 8,
            q: "è§£æ–¹ç¨‹å¼ï¼š3xÂ² = 27",
            options: ["x = 3", "x = 9", "x = Â±3", "x = Â±9"],
            ans: 2
        },
        {
            id: 9,
            q: "è§£æ–¹ç¨‹å¼ï¼š(x-2)Â² = 9",
            options: ["x = 5", "x = -1", "x = 5, -1", "x = 11"],
            ans: 2
        },
        {
            id: 10,
            q: "æ–¹ç¨‹å¼ xÂ² + x + 1 = 0 çš„æ ¹çš„æƒ…æ³ç‚ºä½•ï¼Ÿï¼ˆåˆ¤åˆ¥å¼ bÂ²-4acï¼‰",
            options: ["æœ‰å…©ç›¸ç•°å¯¦æ ¹", "æœ‰å…©ç›¸ç­‰å¯¦æ ¹ (é‡æ ¹)", "ç„¡å¯¦æ•¸è§£", "ç„¡æ³•åˆ¤æ–·"],
            ans: 2
        }
    ];

    // åˆå§‹åŒ–ç¶²é ï¼šç”¢ç”Ÿé¡Œç›®
    function initQuiz() {
        const container = document.getElementById('quizContainer');
        let html = '';
        
        questions.forEach((item, index) => {
            let optionsHtml = '';
            item.options.forEach((opt, optIndex) => {
                optionsHtml += `
                    <label id="label_${index}_${optIndex}">
                        <input type="radio" name="q${index}" value="${optIndex}">
                        ${opt}
                    </label>
                `;
            });

            html += `
                <div class="question-card" id="card_${index}">
                    <div class="question-title">ç¬¬ ${index + 1} é¡Œï¼š${item.q}</div>
                    <div class="options">
                        ${optionsHtml}
                    </div>
                    <div class="explanation" id="explain_${index}">
                        æ­£ç¢ºç­”æ¡ˆï¼š${item.options[item.ans]}
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
    }

    // è¨ˆç®—åˆ†æ•¸èˆ‡é¡¯ç¤ºçµæœ
    function submitQuiz() {
        let score = 0;
        const total = questions.length * 10; // ç¸½åˆ†100
        
        questions.forEach((item, index) => {
            const selected = document.querySelector(`input[name="q${index}"]:checked`);
            const explain = document.getElementById(`explain_${index}`);
            
            // æ¸…é™¤ä¹‹å‰çš„æ¨£å¼
            document.querySelectorAll(`#card_${index} label`).forEach(l => {
                l.classList.remove('correct', 'wrong');
            });

            if (selected) {
                const val = parseInt(selected.value);
                if (val === item.ans) {
                    score += 10;
                    document.getElementById(`label_${index}_${val}`).classList.add('correct');
                } else {
                    document.getElementById(`label_${index}_${val}`).classList.add('wrong');
                    document.getElementById(`label_${index}_${item.ans}`).classList.add('correct'); // æ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
                    explain.style.display = 'block';
                }
            } else {
                // æœªä½œç­”ï¼Œåƒ…æ¨™ç¤ºæ­£ç¢ºç­”æ¡ˆ
                document.getElementById(`label_${index}_${item.ans}`).classList.add('correct');
                explain.style.display = 'block';
                explain.innerText += " (æœªä½œç­”)";
            }
        });

        // é¡¯ç¤ºç¸½åˆ†èˆ‡ Email æŒ‰éˆ•
        const scoreBoard = document.getElementById('scoreBoard');
        scoreBoard.style.display = 'block';
        
        let feedback = "";
        if(score === 100) {
            scoreBoard.style.backgroundColor = "#d4edda";
            scoreBoard.style.borderColor = "#c3e6cb";
            feedback = "ğŸ‰ å¤ªæ£’äº†ï¼å…¨å°ï¼";
        } else {
            scoreBoard.style.backgroundColor = "#fff3cd";
            scoreBoard.style.borderColor = "#ffeeba";
            feedback = "å†æ¥å†å²ï¼";
        }

        // Email è¨­å®š
        const teacherEmail = '019@tpjh.kh.edu.tw';
        const subject = encodeURIComponent('æ•¸å­¸æ¸¬é©—æˆç¸¾å›å ±');
        const body = encodeURIComponent(`è€å¸«æ‚¨å¥½ï¼Œæˆ‘å·²å®Œæˆä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼æ¸¬é©—ï¼Œæˆ‘çš„åˆ†æ•¸æ˜¯ï¼š${score} / ${total} åˆ†ã€‚`);

        scoreBoard.innerHTML = `
            <div>æ‚¨çš„å¾—åˆ†ï¼š<strong>${score} / ${total}</strong></div>
            <div style="font-size: 0.8em; margin-top:5px;">${feedback}</div>
            
            <a href="mailto:${teacherEmail}?subject=${subject}&body=${body}" class="btn-email">
                ğŸ“§ é»æ­¤å¯„é€æˆç¸¾çµ¦è€å¸«
            </a>
            <div style="margin-top:5px; font-size:12px; color:#666;">
                (é»æ“Šå¾Œè«‹æŒ‰ä¸‹å‚³é€ï¼Œè‹¥ç„¡åæ‡‰è«‹æ‰‹å‹•æˆªåœ–)
            </div>
        `;
        
        // æ»¾å‹•åˆ°æœ€ä¸Šæ–¹çœ‹åˆ†æ•¸
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // å•Ÿå‹•
    initQuiz();
</script>

</body>
</html>
